<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <title>Manage Products</title>
  <link rel="stylesheet" type="text/css" href="/css/style.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  <script src="/js/main.js" defer></script>
</head>
<body>
<div class="container">
  <h1>Manage <strong>Products</strong></h1>
  <div class="button-group">
    <button class="btn btn-danger" onclick="deleteSelectedProducts()"><i class="fa-solid fa-circle-minus"></i>Delete</button>
    <a href="/products/new"><button class="btn btn-success"><i class="fa-solid fa-circle-plus"></i>Add New Product</button></a>
  </div>
  <div class="products">
    <table class="table">
      <thead>
      <tr>
        <th><input type="checkbox" id="selectAll" onchange="toggleCheckboxes()"></th>
        <th>Image</th>
        <th>Id</th>
        <th>Name</th>
        <th>Price</th>
        <th>Actions</th>
      </tr>
      </thead>
      <tbody>
      <tr th:each="product : ${products}">
        <td><input type="checkbox" class="product-checkbox" th:value="${product.id}"></td>
        <td><a th:href="@{'/products/' + ${product.id}}">
          <img th:src="@{${product.imageUrl}}" alt="no image" class="product-image"/></a></td>
        <td><a th:href="@{'/products/' + ${product.id}}" th:text="${product.id}"></a></td>
        <td><a th:href="@{'/products/' + ${product.id}}" th:text="${product.name}"></a></td>
        <td><a th:href="@{'/products/' + ${product.id}}" th:text="${product.price}"></a></td>
        <td>
          <a th:href="@{'/products/edit/' + ${product.id}}"><button class="icon-btn"><i class="fa-solid fa-pen"></i></button></a>
          <button class="icon-btn" th:data-product-id="${product.id}" onclick="deleteProduct(this)"><i class="fa-solid fa-trash-can"></i></button>
        </td>
      </tr>
      </tbody>
    </table>
  </div>
</div>
</body>
</html>
